(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-5630c7e8"],{"21bd":function(t,a,e){"use strict";e.r(a);var n=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"baikebac"},[e("div",{staticClass:"baike_img"},[e("span",{staticClass:"fontst"},[t._v("点击更改宠物之家首页轮播图")]),e("div",{staticClass:"dog-img"},[e("span",{staticClass:"span"},[t._v("狗狗")]),e("div",{staticClass:"dog"},t._l(t.dogArr,(function(a){return e("div",{key:a.id,staticClass:"photo",on:{click:t.upDogFile}},[e("img",{staticClass:"dogImg",attrs:{width:"120px",height:"120px",src:a.lunbo_img}}),e("input",{staticClass:"dogFile",attrs:{type:"file"}})])})),0)]),e("div",{staticClass:"cat-img"},[e("span",{staticClass:"span"},[t._v("猫咪")]),e("div",{staticClass:"cat"},t._l(t.catArr,(function(a){return e("div",{key:a.id,staticClass:"photo",on:{click:t.upCatFile}},[e("img",{staticClass:"catImg",attrs:{width:"120px",height:"120px",src:a.lunbo_img}}),e("input",{staticClass:"catFile",attrs:{type:"file"}})])})),0)]),e("div",{staticClass:"mini-img"},[e("span",{staticClass:"span"},[t._v("小宠")]),e("div",{staticClass:"mini"},t._l(t.miniArr,(function(a){return e("div",{key:a.id,staticClass:"photo",on:{click:t.upMiniFile}},[e("img",{staticClass:"miniImg",attrs:{width:"120px",height:"120px",src:a.lunbo_img}}),e("input",{staticClass:"miniFile",attrs:{type:"file"}})])})),0)]),e("div",{staticClass:"water-img"},[e("span",{staticClass:"span"},[t._v("水族")]),e("div",{staticClass:"water"},t._l(t.waterArr,(function(a){return e("div",{key:a.id,staticClass:"photo",on:{click:t.upWaterFile}},[e("img",{staticClass:"waterImg",attrs:{width:"120px",height:"120px",src:a.lunbo_img}}),e("input",{staticClass:"waterFile",attrs:{type:"file"}})])})),0)])])])},s=[],i=(e("6ae3"),e("053b"),{data:function(){return{dogArr:[],catArr:[],miniArr:[],waterArr:[],myFile:"",myImg:"",id:0}},mounted:function(){this.getlunoByClassId(1),this.getlunoByClassId(2),this.getlunoByClassId(3),this.getlunoByClassId(4)},methods:{getlunoByClassId:function(t){var a=this;this.$http.get("/getAlllunbo",{params:{class_id:t}}).then((function(e){switch(console.log(e.data),t){case 1:a.dogArr=e.data;break;case 2:a.catArr=e.data;break;case 3:a.miniArr=e.data;break;case 4:a.waterArr=e.data;break}})).catch((function(t){console.log(t)}))},upDogFile:function(t){var a=this;console.log(t.target);for(var e=document.getElementsByClassName("dogFile"),n=(document.getElementsByClassName("dogImg"),function(n){e[n].onchange=function(){var s=e[n].files[0],i=new FormData;i.append("uploadFile",s,s.name);var r={headers:{"Content-Type":"multipart/form-data;boundary="+(new Date).getTime()}},l=s.name.substring(s.name.lastIndexOf(".")+1);if("jpg"!=l&&"png"!=l&&"jpeg"!=l&&"JPG"!=l)return alert("文件格式不正确"),!1;var o=s.size/1024/1024;if(o>2)return alert("文件不能超过2M"),!1;a.upMyFile(i,r,t.target,a.dogArr[n].id)}}),s=0;s<e.length;s++)n(s)},upCatFile:function(t){var a=this;console.log(t.target);for(var e=document.getElementsByClassName("catFile"),n=(document.getElementsByClassName("catImg"),function(n){e[n].onchange=function(){var s=e[n].files[0],i=new FormData;i.append("uploadFile",s,s.name);var r={headers:{"Content-Type":"multipart/form-data;boundary="+(new Date).getTime()}},l=s.name.substring(s.name.lastIndexOf(".")+1);if("jpg"!=l&&"png"!=l&&"jpeg"!=l&&"JPG"!=l)return alert("文件格式不正确"),!1;var o=s.size/1024/1024;if(o>2)return alert("文件不能超过2M"),!1;a.upMyFile(i,r,t.target,a.catArr[n].id)}}),s=0;s<e.length;s++)n(s)},upMiniFile:function(t){var a=this;console.log(t.target);for(var e=document.getElementsByClassName("miniFile"),n=(document.getElementsByClassName("miniImg"),function(n){e[n].onchange=function(){var s=e[n].files[0],i=new FormData;i.append("uploadFile",s,s.name);var r={headers:{"Content-Type":"multipart/form-data;boundary="+(new Date).getTime()}},l=s.name.substring(s.name.lastIndexOf(".")+1);if("jpg"!=l&&"png"!=l&&"jpeg"!=l&&"JPG"!=l)return alert("文件格式不正确"),!1;var o=s.size/1024/1024;if(o>2)return alert("文件不能超过2M"),!1;a.upMyFile(i,r,t.target,a.miniArr[n].id)}}),s=0;s<e.length;s++)n(s)},upWaterFile:function(t){var a=this;console.log(t.target);for(var e=document.getElementsByClassName("waterFile"),n=(document.getElementsByClassName("waterImg"),function(n){e[n].onchange=function(){var s=e[n].files[0],i=new FormData;i.append("uploadFile",s,s.name);var r={headers:{"Content-Type":"multipart/form-data;boundary="+(new Date).getTime()}},l=s.name.substring(s.name.lastIndexOf(".")+1);if("jpg"!=l&&"png"!=l&&"jpeg"!=l&&"JPG"!=l)return alert("文件格式不正确"),!1;var o=s.size/1024/1024;if(o>2)return alert("文件不能超过2M"),!1;a.upMyFile(i,r,t.target,a.waterArr[n].id)}}),s=0;s<e.length;s++)n(s)},upMyFile:function(t,a,e,n){var s=this;this.$http.post("/uploadFile",t,a).then((function(t){console.log("文件上传成功"),console.log(t.data),e.previousElementSibling.setAttribute("src",t.data),s.upPhoto(t.data,n)})).catch((function(t){console.log(t),console.log("上传文件ajax出错")}))},upPhoto:function(t,a){var e=this;console.log(a),console.log(t),this.$http.post("/addtolunbo",{lunbo_img:t,id:a}).then((function(t){console.log(t.data),e.$message({message:"更改成功!",type:"success"})})).catch((function(t){console.log(t),e.$message.error("更改失败!")}))}}}),r=i,l=(e("a3c3"),e("9ca4")),o=Object(l["a"])(r,n,s,!1,null,"2d65777f",null);a["default"]=o.exports},"62d6":function(t,a,e){},"6ae3":function(t,a,e){var n=e("1c8b"),s=e("8d7b");n({target:"Array",proto:!0,forced:s!==[].lastIndexOf},{lastIndexOf:s})},a3c3:function(t,a,e){"use strict";var n=e("62d6"),s=e.n(n);s.a}}]);
//# sourceMappingURL=chunk-5630c7e8.03915dde.js.map