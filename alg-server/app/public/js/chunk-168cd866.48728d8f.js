(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-168cd866"],{"3bc7":function(t,e,r){},4031:function(t,e,r){"use strict";var a=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"pag"},[r("el-pagination",{attrs:{background:"",layout:"prev, pager, next","hide-on-single-page":"","page-count":t.page_count},on:{"current-change":t.currntChange,"prev-click":t.preClick,"next-click":t.nextClick}})],1)},o=[],n={props:["page_count"],methods:{currntChange:function(t){this.$emit("pageevent",t)},preClick:function(t){},nextClick:function(t){}}},l=n,i=(r("73a4"),r("9ca4")),s=Object(i["a"])(l,a,o,!1,null,"a4f47362",null);e["a"]=s.exports},5861:function(t,e,r){"use strict";var a=r("3bc7"),o=r.n(a);o.a},"5d82":function(t,e,r){},"73a4":function(t,e,r){"use strict";var a=r("5d82"),o=r.n(a);o.a},ca4c:function(t,e,r){"use strict";r.r(e);var a=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[r("div",{staticClass:"omList"},[r("el-table",{staticStyle:{width:"90%"},attrs:{data:t.MyOderMaArr,height:600}},[r("el-table-column",{attrs:{prop:"my",label:"序号",width:"75",sortable:""}}),r("el-table-column",{attrs:{prop:"oid",label:"订单号",width:"90",sortable:""}}),r("el-table-column",{attrs:{prop:"otime",label:"下单时间",width:"120",sortable:""}}),r("el-table-column",{attrs:{label:"配送信息"}},[r("el-table-column",{attrs:{prop:"phone",label:"联系方式",width:"120",sortable:""}}),r("el-table-column",{attrs:{prop:"uname",label:"收货人",width:"88",sortable:""}}),r("el-table-column",{attrs:{prop:"address",width:"120",label:"收货地址"}})],1),r("el-table-column",{attrs:{label:"商品信息"}},[r("el-table-column",{attrs:{prop:"pname",label:"商品名称",sortable:""}}),r("el-table-column",{attrs:{prop:"count",label:"数量",width:"75",sortable:""}}),r("el-table-column",{attrs:{prop:"total",label:"总价",width:"75",sortable:""}})],1),r("el-table-column",{attrs:{prop:"resolve",label:"状态",width:"75",sortable:""}}),r("el-table-column",{attrs:{label:"操作",width:"150"},scopedSlots:t._u([{key:"default",fn:function(e){return[r("el-button",{attrs:{size:"mini"},on:{click:function(r){return t.handleEdit(e.$index,e.row)}}},[t._v("编辑")]),r("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(r){return t.handleDelete(e.$index,e.row)}}},[t._v("删除")])]}}])})],1),r("pagenation",{staticClass:"pagenation",attrs:{page_count:t.page_count},on:{pageevent:t.getpage}})],1),r("el-dialog",{attrs:{title:"提示",visible:t.OderM,width:"40%","before-close":t.handleClose},on:{"update:visible":function(e){t.OderM=e}}},[r("el-form",{ref:"ruleForm",staticClass:"demo-ruleForm",attrs:{model:t.ruleForm,rules:t.rules,"label-width":"100px","label-hight":"50px",validate:"valRes"}},[r("el-form-item",{attrs:{label:"状态修改",prop:"Oderstate"}},[r("el-input",{model:{value:t.ruleForm.oderstateD,callback:function(e){t.$set(t.ruleForm,"oderstateD",e)},expression:"ruleForm.oderstateD"}})],1)],1),r("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[r("el-button",{on:{click:function(e){return t.resetForm("ruleForm")}}},[t._v("取 消")]),r("el-button",{attrs:{type:"primary"},on:{click:function(e){return t.submitForm("ruleForm")}}},[t._v("提交")])],1)],1)],1)},o=[],n=r("4031"),l={data:function(){return{OderMaArr:[],MyOderMaArr:[],search:"",OderM:!1,ruleForm:{oderstateD:""},hdid:"",updateStat:"",rules:{oderstateD:[{required:!0,message:"状态不能为空",trigger:"blur"}]},page:1,page_count:1}},methods:{handleEdit:function(t,e){this.ruleForm.oderstateD=e.resolve,this.hdid=e.id,this.OderM=!0,this.updateStat=e.resolve},handleDelete:function(t,e){var r=this;this.hdid=e.id,"已完成"==e.resolve?this.$confirm("一旦删除无法恢复，确认删除吗？").then((function(t){r.$http.get("/delOder",{params:{id:r.hdid}}).then((function(t){r.$alert("提示","删除成功！",{}),r.$router.go(0)})).catch((function(t){r.$alert("提示","删除失败！",{})}))})).catch((function(t){})):this.$confirm("只能删除已完成订单哦！").then((function(t){})).catch((function(t){}))},handleClose:function(t){var e=this;this.$confirm("还未提交哦，确认关闭吗？").then((function(r){e.$refs[formName].resetFields(),e.OderM=!1,t()})).catch((function(t){}))},resetForm:function(t){var e=this;this.$confirm("还未提交哦，确认取消吗？").then((function(r){e.$refs[t].resetFields(),e.OderM=!1,done()})).catch((function(t){}))},submitForm:function(t){var e=this;this.$refs[t].validate((function(t){t?e.updateStat==e.ruleForm.oderstateD?e.OderM=!1:"未完成"==e.ruleForm.oderstateD||"已完成"==e.ruleForm.oderstateD||"处理中"==e.ruleForm.oderstateD?e.$http.post("/editOderState",{resolve:e.ruleForm.oderstateD,id:e.hdid}).then((function(t){e.oderstateD=!1,e.$alert("提示","修改状态成功！",{}),e.OderM=!1,e.$router.go(0)})).catch((function(t){e.$alert("提示","操作失败！",{confirmButtonText:"确定"}),e.oderstateD=!1})):e.$alert("状态只能为未处理、已完成、处理中","提示",{confirmButtonText:"确定"}):e.$alert("提示","请输入有效的信息",{confirmButtonText:"确定"})}))},getOder:function(){var t=this;this.$http.get("/getAllOrder",{params:{page:this.page}}).then((function(e){var r=[],a=e.data.list;t.page_count=e.data.page_count,console.log(a);for(var o=0;o<a.length;o++){var n=o+1,l=a[o].id,i=a[o].oid,s=a[o].otime,c=a[o].address,u=a[o].phone,d=a[o].total,p=a[o].resolve,h=a[o].pname,m=a[o].count,f=a[o].uname;r.push({my:n,count:m,id:l,oid:i,otime:s,address:c,phone:u,pname:h,total:d,resolve:p,uname:f})}t.OderMaArr=r,t.MyOderMaArr=r})).catch((function(t){console.log(t)}))},getpage:function(t){this.page=t}},mounted:function(){this.getOder()},watch:{page:function(){this.getOder()}},components:{pagenation:n["a"]}},i=l,s=(r("5861"),r("9ca4")),c=Object(s["a"])(i,a,o,!1,null,null,null);e["default"]=c.exports}}]);
//# sourceMappingURL=chunk-168cd866.48728d8f.js.map